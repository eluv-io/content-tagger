content:
  parts_url: http://192.168.96.203/config?self&qspace=main
  config_url: https://host-154-14-185-98.contentfabric.io/config?self&qspace=main

tagstore:
  tags_path: data/tags

tag_converter:
  mapping:
    asr: Speech to Text
    caption: Object Detection
    celeb: Celebrity Detection
    logo: Logo Detection
    music: Music Detection
    ocr: Optical Character Recognition
    shot: Shot Detection
    llava: LLAVA Caption
  interval: 10

system:
  resources: {
    "ollama": 2,
    "cpu": 100,
    "gpu-weak": 1,
    "gpu-good": 3
  }
  gpu_indices: ["gpu", "disabled", "gpu", "gpu", "gpu"]

fetcher:
  max_downloads: 16
  parts_path: data/parts
  author: tagger

containers:
  base_path: data/containers
  cache_path: data/cache
  model_configs:
    llava:
      image: "localhost/llava:latest"
      type: "frame"
      resources: {
        "ollama": 1
      }
    asr: 
      image: "localhost/hungarian:latest"
      type: "audio"
      resources: {
        "cpu_juice": 25
      }
    french_asr: 
      image: "localhost/multilingual:latest"
      type: "audio"
      resources: {
        "gpu": 1
      }
    caption:
      image: "localhost/caption:latest"
      type: "frame"
      resources: {
        "gpu": 1
      }
    shot:
      image: "localhost/shot:latest"
      type: "video"
      resources: {
        "gpu": 1
      }
    celeb:
      image: "localhost/celeb:latest"
      type: "video"
      resources: {
        "gpu": 1,
        "cpu_juice": 35
      }
    ocr:
      image: "localhost/ocr:latest"
      type: "video"
      resources: {
        "gpu": 1
      }
    logo:
      image: "localhost/logo:latest"
      type: "video"
      resources: {
        "gpu": 1
      }
    test:
      image: "localhost/test:latest"
      type: "video"
      resources: {
        "gpu": 1
      }

agg:
  interval: 10
  ## if a feature is in this list, don't allow more than one tag per shot (in shot tags)
  ## (if there are more, then the tag with the greatest duration will be kept)
  ## this is to avoid errors sorting on the field
  single_shot_tag:
    - music
  coalesce_features: 
    - asr
    - french_asr